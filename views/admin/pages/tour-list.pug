extends ../layouts/default.pug 
include ../mixins/change-search.pug
include ../mixins/pagination.pug

block main 
  h2.box-title Quản lý tour

  //- Section 4
  .section-4 
    .inner-item.inner-label 
      <i class="fa-solid fa-filter"></i> Bộ lọc
    .inner-item 
      select(filter-status) 
        option(value="") Trạng thái 
        option(value="active") Hoạt động
        option(value="inactive") Tạm dừng
    .inner-item 
      select(filter-created-by) 
        option(value="") Người tạo
        each item in accountAdminList
          option(value=item.id) #{item.fullName}
    .inner-item
      input(type="date" filter-start-date)
      span -
      input(type="date" filter-end-date)
    .inner-item 
      select(name="") 
        option(value="") Danh mục
        option(value="") Danh mục 1
        option(value="") Danh mục 2
    .inner-item 
        select(name="") 
          option(value="") Mức giá
          option(value="") Dưới 2tr
          option(value="") 2tr đến 4tr
          option(value="") 4tr đến 8tr
          option(value="") Trên 8tr
    .inner-item.inner-reset(filter-reset)
      <i class="fa-solid fa-rotate-left"></i> Xóa bộ lọc
  //- End Section 4

  //- Section 5
  .section-5
    +change-search(`/${pathAdmin}/tour/change-multi`)
    .inner-button-create 
      a(href=`/${pathAdmin}/tour/create`) + Tạo mới
    .inner-button-trash 
      a(href=`/${pathAdmin}/tour/trash`) Thùng rác
  //- End Section 5

  //- Section 6
  .section-6 
    .table-2 
      table 
        thead 
          tr 
            th 
              input(type="checkbox" class="custom-check" id="check1" check-all)
              label(for="check1" class="custom-icon-checkbox") <i class="fa-solid fa-check"></i>
            th Tên tour
            th.inner-center Ảnh đại diện
            th Giá
            th Còn lại
            th.inner-center Vị trí
            th.inner-center Trạng thái
            th Tạo bởi
            th Cập nhật bởi
            th Hành động
        tbody 
          each item in tourList
            tr 
              td 
                input(type="checkbox" class="custom-check" id=item.id check-item=item.id)
                label(for=item.id class="custom-icon-checkbox") <i class="fa-solid fa-check"></i>
              td.inner-name #{item.name}
              td.inner-center
                img(src=item.avatar)
              td 
                div NL: #{item.priceNewAdult.toLocaleString("vi-VN")}đ
                div TE: #{item.priceNewChildren.toLocaleString("vi-VN")}đ
                div EB: #{item.priceNewBaby.toLocaleString("vi-VN")}đ
              td 
                div NL: #{item.stockAdult}
                div TE: #{item.stockChildren}
                div EB: #{item.stockBaby}
              td.inner-center #{item.position}
              td.inner-center
                if (item.status == "active")
                  .badge.badge-green Hoạt động
                else if (item.status == "inactive")
                  .badge.badge-red Tạm dừng
              td
                div #{item.createdByFullName}
                span #{item.createdAtFormat}
              td
                div #{item.updatedByFullName}
                span #{item.updatedAtFormat}
              td
                .inner-buttons
                  a(href=`/${pathAdmin}/tour/edit/${item.id}` class="inner-edit") 
                    <i class="fa-solid fa-pen-to-square"></i> 
                  button(
                    class="inner-remove"
                    button-delete
                    data-api=`/${pathAdmin}/tour/delete/${item.id}`
                  ) 
                    <i class="fa-solid fa-trash-can"></i>
  //- End Section 6

  //- Pagination
  +pagination(pagination.skip, tourList.length, pagination.totalRecord, pagination.totalPage)
  //- End Pagination